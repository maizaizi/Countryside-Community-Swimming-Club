{% extends 'managerhome.html'%}

{%block subcontent%}
<div class="container">
     <!-- display the flash message after action -->
     {% for message in get_flashed_messages() %}
     <div class="alert alert-danger text-center my-4" role="alert">
         <p class="pt-3"><b>{{ message }}</b></p>
     </div>
     {% endfor %}
     <div>
         <h3 class="text-center pt-5 mb-5">Subscription Prices</h3>
     </div>
    <div class="text-center">
        <form action="{{url_for('manager.manage_price')}}" method="post" 
                class="needs-validation"  novalidate >
            {%for subscription in all_subscriptions%}
            <div class="row mb-3 justify-content-center">
                <label for="{{subscription['id']}}" class="col-2 col-form-label"><b>{{subscription['type'].capitalize()}}:</b></label>
                <input type="hidden" class="form-control"  name="{{subscription['type']}}_id" required           
                    value="{{subscription['id']}}">
                <label for="{{subscription['id']}}" class="col-1 col-form-label"><b>Price ($):</b></label>
                <div class="col-2">
                    <input type="number" class="form-control" id="{{subscription['id']}}" name="{{subscription['type']}}_price" required           
                    value="{{subscription['price']}}" min="0">
                    <div class="invalid-feedback text-start">
                        Please enter the subscription price.
                    </div>  
                </div>
                <div class="col-2"> <button type="submit" class="btn btn-outline-success" name="{{subscription['type']}}_btn">Update</button></div>
            </div>
            {%endfor%}  
            </form>
    </div>
    <div>
        <h3 class="text-center pt-5 mb-5">Individual Lesson Price</h3>
    </div>
    <div class="text-center">
    <form action="{{url_for('manager.manage_price')}}" method="post" 
                class="needs-validation"  novalidate >
    <div class="row mb-3 justify-content-center">
        <label for="{{lesson['class_id']}}" class="col-2 col-form-label"><b>{{lesson['type'].capitalize()}}:</b></label>
        <input type="hidden" class="form-control"  name="id" required           
            value="{{lesson['class_id']}}">
        <label for="{{lesson['class_id']}}" class="col-1 col-form-label"><b>Price ($):</b></label>
        <div class="col-2">
            <input type="number" class="form-control" id="{{lesson['class_id']}}" name="price" required           
            value="{{lesson['price']}}" min="0">
            <div class="invalid-feedback text-start">
                Please enter the lesson price.
            </div>  
        </div>
        <div class="col-2"> <button type="submit" class="btn btn-outline-success" name="lesson_btn">Update</button></div>
    </div>
    </form>
</div>
<div style="text-align: center;">
    <a href="{{ url_for('manager.manager') }}" class="btn" style="background-color: #007bff; color: white; padding: 5px 10px; border-radius: 5px;">Back</a>
</div>
</div>
{%endblock%}

